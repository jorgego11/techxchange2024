"use strict";(self.webpackChunkswat_hub=self.webpackChunkswat_hub||[]).push([[9395],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>d});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var p=n.createContext({}),u=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=u(e.components);return n.createElement(p.Provider,{value:t},e.children)},s="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),s=u(a),k=o,d=s["".concat(p,".").concat(k)]||s[k]||m[k]||r;return a?n.createElement(d,i(i({ref:t},c),{},{components:a})):n.createElement(d,i({ref:t},c))}));function d(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=k;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[s]="string"==typeof e?e:o,i[1]=l;for(var u=2;u<r;u++)i[u]=a[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},2141:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>u});var n=a(7462),o=(a(7294),a(3905));const r={title:"5. Runbook Automation",description:"Describes a runbook automation example",sidebar_position:5},i=void 0,l={unversionedId:"cloud-pak-aiops/netcool-lab/runbook-automation/index",id:"cloud-pak-aiops/netcool-lab/runbook-automation/index",title:"5. Runbook Automation",description:"Describes a runbook automation example",source:"@site/labs/cloud-pak-aiops/netcool-lab/5-runbook-automation/index.mdx",sourceDirName:"cloud-pak-aiops/netcool-lab/5-runbook-automation",slug:"/cloud-pak-aiops/netcool-lab/runbook-automation/",permalink:"/techxchange2024/labs/cloud-pak-aiops/netcool-lab/runbook-automation/",draft:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"5. Runbook Automation",description:"Describes a runbook automation example",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"4. Migrate a Custom Correlation",permalink:"/techxchange2024/labs/cloud-pak-aiops/netcool-lab/migrate-custom-correlation/"},next:{title:"1. Introduction",permalink:"/techxchange2024/labs/cloud-pak-aiops/topology-lab/introduction/"}},p={},u=[{value:"5.1: Overview",id:"51-overview",level:2},{value:"5.2: Create an SSH Integration",id:"52-create-an-ssh-integration",level:2},{value:"5.3: Create an Action Automation",id:"53-create-an-action-automation",level:2},{value:"5.4: Create an RunBook Automation",id:"54-create-an-runbook-automation",level:2},{value:"5.5: Create an AIOps RunBook Policy Automation",id:"55-create-an-aiops-runbook-policy-automation",level:2}],c={toc:u},s="wrapper";function m(e){let{components:t,...a}=e;return(0,o.kt)(s,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"51-overview"},"5.1: Overview"),(0,o.kt)("p",null,"In this final section, we will review the Automation capabilities of the Cloud Pak for AIOps. You can use Runbook Automation to build and\nexecute runbooks that can help IT staff to solve common operational problems. Runbook Automation can automate procedures that do not\nrequire human interaction, thereby increasing the efficiency of IT operations processes. Operators can spend more time innovating and\nare freed from performing time-consuming manual tasks. "),(0,o.kt)("p",null,"We will create a RunBook Automation that when a particular alert arrives, it will connect to a remote server and delete the content of a ./tmp folder.\nIn order to accomplish this we will execute the following tasks: "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Create a ssh integration"),(0,o.kt)("li",{parentName:"ul"},"Create an Action to connect o a remote server and delete all the files in a folder"),(0,o.kt)("li",{parentName:"ul"},"Create a RunBook that will call the previous Action"),(0,o.kt)("li",{parentName:"ul"},"Create an AIOps Policy that will execute the previous runbook when a particular alert is received or updated"),(0,o.kt)("li",{parentName:"ul"},"Confirm that the Runbook has run")),(0,o.kt)("h2",{id:"52-create-an-ssh-integration"},"5.2: Create an SSH Integration"),(0,o.kt)("p",null,"From the Home page select ",(0,o.kt)("strong",{parentName:"p"},"Integrations"),". Click on ",(0,o.kt)("strong",{parentName:"p"},"Add integration"),".\nOn the Search bar type ",(0,o.kt)("em",{parentName:"p"},"ssh"),". Click on the ",(0,o.kt)("strong",{parentName:"p"},"SSH")," tile and click on ",(0,o.kt)("strong",{parentName:"p"},"Get started"),"."),(0,o.kt)("p",null,"We will add this public key to our server to enable the ssh authentication.\nFrom the Terminal window, run the following commands"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"mkdir ~/.ssh\ngedit ~/.ssh/authorized_keys\n")),(0,o.kt)("p",null,"Click on the Copy button to copy the public key and paste it into the editor. On the editor click on ",(0,o.kt)("strong",{parentName:"p"},"Save")," and close the editor."),(0,o.kt)("p",null,"On the SSH integration, click on ",(0,o.kt)("strong",{parentName:"p"},"Next")," (leave ",(0,o.kt)("em",{parentName:"p"},"Enable jumpserver")," Off) and click ",(0,o.kt)("strong",{parentName:"p"},"Done"),"."),(0,o.kt)("h2",{id:"53-create-an-action-automation"},"5.3: Create an Action Automation"),(0,o.kt)("p",null,"In runbooks, actions are the collection of several manual steps into a single automated entity.\nAn action improves runbook efficiency by automatically performing procedures and operations.\nActions supports the following technologies to connect to a backend system: Script, HTTP and Ansible. "),(0,o.kt)("p",null,"From the Home page select ",(0,o.kt)("strong",{parentName:"p"},"Automations"),". Click on the ",(0,o.kt)("strong",{parentName:"p"},"Actions")," tab. Click on ",(0,o.kt)("strong",{parentName:"p"},"Create action"),"."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Under ",(0,o.kt)("strong",{parentName:"p"},"Type")," select ",(0,o.kt)("strong",{parentName:"p"},"SSH"),".")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Under ",(0,o.kt)("strong",{parentName:"p"},"Name")," type ",(0,o.kt)("inlineCode",{parentName:"p"},"clean folder automation action"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Scroll down and under ",(0,o.kt)("strong",{parentName:"p"},"Action script")),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Under ",(0,o.kt)("strong",{parentName:"p"},"Shell")," select ",(0,o.kt)("strong",{parentName:"p"},"Bash"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Under Script paste the following bash script"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"\nssh ibmuser@10.100.1.200 'rm ~/lab/tmp/*'\n"))))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"On the right, click on the 3 dots after ",(0,o.kt)("strong",{parentName:"p"},"target")," and select ",(0,o.kt)("strong",{parentName:"p"},"Edit")),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"On the Edit parameter pop-up",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"check ",(0,o.kt)("strong",{parentName:"li"},"Set a default value")),(0,o.kt)("li",{parentName:"ul"},"Under ",(0,o.kt)("strong",{parentName:"li"},"Default value")," type ",(0,o.kt)("inlineCode",{parentName:"li"},"10.100.1.200")))))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"On the right, click on the 3 dots after ",(0,o.kt)("strong",{parentName:"p"},"user")," and select ",(0,o.kt)("strong",{parentName:"p"},"Edit")),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"On the Edit parameter pop-up",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"check ",(0,o.kt)("strong",{parentName:"li"},"Set a default value")),(0,o.kt)("li",{parentName:"ul"},"Under ",(0,o.kt)("strong",{parentName:"li"},"Default value")," type ",(0,o.kt)("inlineCode",{parentName:"li"},"ibmuser")))))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Click on ",(0,o.kt)("strong",{parentName:"p"},"Publish")))),(0,o.kt)("h2",{id:"54-create-an-runbook-automation"},"5.4: Create an RunBook Automation"),(0,o.kt)("p",null,"Runbooks can be manual, semi-automated or fully automated. Runbooks are used to orchestrate the execution of Actions."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Click on the ",(0,o.kt)("strong",{parentName:"li"},"Runbooks")," tab and select ",(0,o.kt)("strong",{parentName:"li"},"Create runbook")),(0,o.kt)("li",{parentName:"ul"},"Under ",(0,o.kt)("strong",{parentName:"li"},"Name")," type ",(0,o.kt)("inlineCode",{parentName:"li"},"clean folder automation runbook")),(0,o.kt)("li",{parentName:"ul"},"Click ",(0,o.kt)("strong",{parentName:"li"},"Add action step")),(0,o.kt)("li",{parentName:"ul"},"Select ",(0,o.kt)("strong",{parentName:"li"},"clean folder automation action")," and click ",(0,o.kt)("strong",{parentName:"li"},"Select this action")),(0,o.kt)("li",{parentName:"ul"},"On the Action parameter mapping pop-up, ",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"select ",(0,o.kt)("strong",{parentName:"li"},"Use default value")," for ",(0,o.kt)("strong",{parentName:"li"},"target")," and ",(0,o.kt)("strong",{parentName:"li"},"user")),(0,o.kt)("li",{parentName:"ul"},"Click on ",(0,o.kt)("strong",{parentName:"li"},"Save")))),(0,o.kt)("li",{parentName:"ul"},"Finally, click on ",(0,o.kt)("strong",{parentName:"li"},"Publish"))),(0,o.kt)("h2",{id:"55-create-an-aiops-runbook-policy-automation"},"5.5: Create an AIOps RunBook Policy Automation"))}m.isMDXComponent=!0}}]);